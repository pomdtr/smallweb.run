<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smallweb 0.9 - Improved Routing - Smallweb Blog</title>

    <meta name="supported-color-schemes" content="light dark">
    <meta name="theme-color" content="hsl(220, 20%, 100%)" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="hsl(220, 20%, 10%)" media="(prefers-color-scheme: dark)">

    <link rel="stylesheet" href="/styles.css">
    <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Smallweb Blog">
    <link rel="alternate" href="/feed.json" type="application/json" title="Smallweb Blog">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="canonical" href="http://localhost/posts/v0.9/">
    
  <meta property="og:type" content="website">
<meta property="og:site_name" content="Smallweb Blog">
<meta property="og:locale" content="en">
<meta property="og:title" content="Smallweb 0.9 - Improved Routing">
<meta property="og:description" content="The latest new from Smallweb">
<meta property="og:url" content="http://localhost/posts/v0.9/">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@pomdtrr">
<meta name="description" content="The latest new from Smallweb">
</head>
  <body>
    <nav class="navbar">
      <a href="/" class="navbar-home">
        
          <strong>Smallweb Blog</strong>
        
      </a>

      <ul class="navbar-links">
        <li>
          <a href="/archive/">
            Archive
          </a>
        </li>
      
        <li>
          <a href="/contact/">
            Contact
          </a>
        </li>
      
      <li>
        <script>
          let theme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");
          document.documentElement.dataset.theme = theme;
          function changeTheme() {
            theme = theme === "dark" ? "light" : "dark";
            localStorage.setItem("theme", theme);
            document.documentElement.dataset.theme = theme;
          }
        </script>
        <button class="button" onclick="changeTheme()">
          <span class="icon">◐</span>
        </button>
      </li>
      </ul>
    </nav>

    <main class="body-post">
      <article class="post" data-pagefind-body="" data-title="Smallweb 0.9 - Improved Routing" data-pagefind-index-attrs="data-title">
  <header class="post-header">
    <h1 class="post-title">Smallweb 0.9 - Improved Routing</h1>

    <div class="post-details">
  
    
    
      <p>by Achille Lacoin</p>
    
  

  <p>
    <time datetime="2024-07-12 00:00:00">
      July 12th, 2024
    </time>
  </p>

  <p>1 min read</p>

  <div class="post-tags">
    
      

      
        <a data-pagefind-filter="filter" class="badge" href="/archive/release/">release</a>
      
    
  </div>
</div>

  </header>

  
  <nav class="toc">
    <h2>Table of contents</h2>
    <ol>
      
      <li>
        <a href="#updated-routing">Updated Routing</a>

        
      </li>
      
      <li>
        <a href="#smallweb-list">smallweb list</a>

        
      </li>
      
      <li>
        <a href="#smallweb-open">smallweb open</a>

        
      </li>
      
    </ol>
  </nav>
  

  <div class="post-body body">
    <h2 id="updated-routing" tabindex="-1"><a href="#updated-routing" class="header-anchor">Updated Routing</a></h2>
<p>After a lot of feedback shared by community, the routing was rethinked from the
ground up. Thanks everyone for sharing your thoughts!</p>
<p>Here is what your smallweb root folder (which defaults to <code>~/smallweb</code>) should
now look like:</p>
<pre class="language-txt" tabindex="0"><code class="language-txt">~/smallweb/
├── localhost
│   ├── example
│   │   └── main.ts
│   └── react
│       └── main.ts
├── pomdtr.me
│   └── www
│       └── main.ts
└── smallweb.run
    ├── www
    │   └── main.ts
    ├── assets
    │   └── main.ts
    └── readme
        └── main.ts
</code></pre>
<!-- more -->
<p>The first level of subfolder is the apex domain, and the second one is the
subdomain.</p>
<ul>
<li><code>https://assets.smallweb.run</code> will be routed to
<code>~/smallweb/smallweb.run/assets/</code></li>
<li><code>react.localhost</code> will be routed to <code>~/smallweb/localhost/react/</code></li>
</ul>
<p>Request targeting the apex domain will be automatically redirected to the <code>www</code>
subdomain.</p>
<p>You can read more about the design process in the
<a href="/blog/routing-design.md">dedicated blog post</a>.</p>
<h2 id="smallweb-list" tabindex="-1"><a href="#smallweb-list" class="header-anchor">smallweb list</a></h2>
<p>The smallweb dump command was renamed to <code>smallweb list</code>.</p>
<p>Smallweb list supports both human and machine readable output (with a <code>--json</code>
flag).</p>
<p>You can filter by domain using the <code>--domain</code> flag.</p>
<h2 id="smallweb-open" tabindex="-1"><a href="#smallweb-open" class="header-anchor">smallweb open</a></h2>
<p>The <code>smallweb open</code> command can now open smallweb websites, even when your
current directory is not the root of a smallweb app.</p>
<p>Just pass the app name to the command:</p>
<pre class="language-sh" tabindex="0"><code class="language-sh">smallweb <span class="token function">open</span> react.localhost
</code></pre>
<p>The command provides completions, make sure to set them properly. You can get
shell specific instructions using the <code>smallweb help completion</code> command.</p>

  </div>

  

<nav class="page-pagination pagination">
  <ul>
    <li class="pagination-prev">
      <a href="/posts/routing-design/" rel="prev">
        <span>← Older post</span>
        <strong>Rethinking Smallweb Routing</strong>
      </a>
    </li>
    
    <li class="pagination-next">
      <a href="/posts/v0.10/" rel="next">
        <span>Newer post →</span>
        <strong>Smallweb 0.10 - Cron jobs are here!</strong>
      </a>
    </li>
    
  </ul>
</nav>

    </article></main>

    <!-- Current page: /posts/v0.9/ -->
  

</body></html>